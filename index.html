<!DOCTYPE html>
<html>
<head>
  <title>Job Search Results</title>
</head>
<body>
  <h1>Job Search Results</h1>

  <form id="search-form">
    <input type="text" id="search-input" placeholder="Enter search query">
    <button type="submit">Search</button>
  </form>

  <div id="job-results"></div>

  <a href="index.html">Back to Home</a>
  <a href="about.html">About Us</a>
  <a href="contact.html">Contact Us</a>

  <script src="search.js"></script>
</body>
</html>
<script>
document.addEventListener('DOMContentLoaded', () => {
  const searchForm = document.getElementById('search-form');
  const searchInput = document.getElementById('search-input');
  const jobResults = document.getElementById('job-results');

  function fetchJobs(query) {
    const url = `https://jsearch.p.rapidapi.com/search?query=${query}&page=1&num_pages=1`;
    const options = {
      method: 'GET',
      headers: {
        'X-RapidAPI-Key': 'be705896bfmsh0d56807be257ba7p1696fejsn5ce586f497d4',
        'X-RapidAPI-Host': 'jsearch.p.rapidapi.com'
      }
    };

    fetch(url, options)
      .then(response => response.json())
      .then(data => {
        console.log(data);

        // Check if data.results exists
        if (data.results && Array.isArray(data.results)) {
          // Clear previous job results
          jobResults.innerHTML = '';

          // Process and display the job results
          const jobs = data.results;
          const jobsString = jobs.map(job => `
            <div>
              <h2>${job.title}</h2>
              <p>${job.company_name}</p>
              <p>${job.location}</p>
              <p>${job.description}</p>
            </div>
          `).join("");

          jobResults.innerHTML = jobsString;
        } else {
          jobResults.innerHTML = '<p>No job results found.</p>';
        }
      })
      .catch(error => console.error(error));
  }

  searchForm.addEventListener('submit', event => {
    event.preventDefault();
    const searchQuery = searchInput.value.trim();
    if (searchQuery) {
      fetchJobs(searchQuery);
      </script>
    }
  });
});
